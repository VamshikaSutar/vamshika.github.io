<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Vamshika Sutar — Grad School Portfolio</title>
<style>
  :root {
    --bg: #f9f9f9;
    --card-bg: #fff;
    --muted: #6b7280;
    --accent: #0077cc;
    --header-bg: #111827;
  }
  html,body{height:100%;margin:0}
  body {
    font-family: "Segoe UI", Tahoma, sans-serif;
    margin: 0;
    background: var(--bg);
    color: #111827;
  }

  header {
    background: var(--header-bg);
    color: #fff;
    padding: 20px;
    display:flex;
    gap:20px;
    align-items:center;
    justify-content:space-between;
  }
  header .profile { display:flex; align-items:center; gap:16px; }
  header img {
    border-radius:50%;
    width:84px;
    height:84px;
    object-fit:cover;
    border:2px solid rgba(255,255,255,0.12);
    background: #e5e7eb;
  }
  header h1 { margin:0; font-size:20px; line-height:1; }
  header p { margin:4px 0 0 0; font-size:13px; color: #d1d5db; line-height:1.2; }
  header a.cv {
    color:#fff;
    text-decoration:none;
    background: var(--accent);
    padding:8px 12px;
    border-radius:6px;
    font-size:14px;
  }
  header a.cv:hover{ background:#005fa3; }

  .page {
    padding: 28px 20px;
    max-width:1100px;
    margin:0 auto;
  }

  .container {
    display:flex;
    flex-wrap:wrap;
    gap:20px;
    justify-content:center;
    padding: 8px 0 24px 0;
  }

  .card {
    background: var(--card-bg);
    border-radius:10px;
    margin:0;
    width:260px;
    box-shadow:0 6px 18px rgba(15,23,42,0.06);
    text-align:center;
    cursor:pointer;
    transition: transform .16s ease, box-shadow .16s ease;
    overflow:hidden;
    display:flex;
    flex-direction:column;
    position:relative;
  }
  .card:focus, .card:hover { transform:translateY(-6px); box-shadow:0 12px 26px rgba(15,23,42,0.09); outline:none; }
  .card img { width:100%; height:160px; object-fit:cover; display:block; }
  .card h3 { padding:14px; font-size:16px; margin:0; color:#0f172a; line-height:1.25; }

  .paper-link {
    display:inline-block;
    margin:10px auto 18px auto;
    padding:6px 10px;
    border-radius:6px;
    background:#0f172a;
    color:#fff;
    text-decoration:none;
    font-size:13px;
  }

  .section { display:none; }
  .section.active { display:block; }

  .back-button {
    display:inline-flex;
    align-items:center;
    gap:8px;
    margin-bottom:18px;
    padding:8px 12px;
    background:#111827;
    color:#fff;
    border-radius:8px;
    cursor:pointer;
    text-decoration:none;
    font-size:14px;
  }
  .back-button:hover { opacity:0.95; }

  h2 { font-size:22px; color:#0f172a; margin:8px 0 18px 0; text-align:center; }
  .meta { font-size:14px; color:var(--muted); text-align:center; margin-bottom:18px; }

  /* Modal */
  .modal-backdrop {
    position:fixed;
    inset:0;
    background:rgba(2,6,23,0.45);
    display:none;
    align-items:center;
    justify-content:center;
    z-index:1200;
  }
  .modal {
    width:min(920px, 96%);
    max-height:86vh;
    overflow:auto;
    background:#fff;
    border-radius:12px;
    padding:18px;
    box-shadow:0 20px 60px rgba(2,6,23,0.4);
  }
  .modal h3 { margin:0 0 10px 0; font-size:18px; }
  .modal .small { color:var(--muted); font-size:13px; margin-bottom:12px; }
  .editor {
    width:100%;
    min-height:160px;
    max-height:50vh;
    padding:12px;
    border-radius:8px;
    border:1px solid #e6e6e6;
    font-size:14px;
    resize:vertical;
    box-sizing:border-box;
  }
  .modal-actions { display:flex; gap:10px; justify-content:flex-end; margin-top:12px; }
  .btn { padding:8px 12px; border-radius:8px; font-size:14px; border:0; cursor:pointer; }
  .btn.secondary { background:#e6e6e6; color:#111827; }
  .btn.primary { background:var(--accent); color:#fff; }

  /* responsive */
  @media (max-width:640px){
    header { flex-direction:column; align-items:flex-start; gap:12px; }
    .container { gap:12px; }
    .card { width:100%; max-width:420px; }
    .modal { padding:12px; }
  }
</style>
</head>
<body>
<header>
  <div class="profile">
    <img src="images/profile_placeholder.jpg" alt="Vamshika Sutar">
    <div>
      <h1>Vamshika Sutar</h1>
      <p>
        AI Research Enthusiast<br>
        Bachelors in Civil Engineering — Minor in Computer Science & Engg.
      </p>
      <p style="margin-top:6px; font-size:13px; color:#d1d5db;">
        <a href="mailto:sutarvamshika@gmail.com" style="color:#d1d5db; text-decoration:none;">
          sutarvamshika@gmail.com
        </a>
      </p>
    </div>
  </div>
  <a class="cv" href="Vamshika_Sutar_CV.pdf" target="_blank" rel="noopener">Download CV</a>
</header>

<div id="home" class="section active page">
  <div style="text-align:center; margin-bottom:8px;">
    <h2 style="margin:0 0 6px 0;">Welcome — Portfolio</h2>
    <p class="meta">Click a card to view details or open the editor to add your points.</p>
  </div>

  <div class="container" role="list">
    <div class="card" role="listitem" tabindex="0" onclick="showSection('publications')" onkeypress="if(event.key==='Enter') showSection('publications')">
      <img src="images/publications.jpg" alt="">
      <h3>Publications</h3>
    </div>

    <div class="card" role="listitem" tabindex="0" onclick="showSection('conferences')" onkeypress="if(event.key==='Enter') showSection('conferences')">
      <img src="images/conferences.jpg" alt="">
      <h3>Conferences & Symposiums</h3>
    </div>

    <div class="card" role="listitem" tabindex="0" onclick="showSection('researchList')" onkeypress="if(event.key==='Enter') showSection('researchList')">
      <img src="images/research.jpg" alt="">
      <h3>Research Experience</h3>
    </div>

    <div class="card" role="listitem" tabindex="0" onclick="showSection('projects')" onkeypress="if(event.key==='Enter') showSection('projects')">
      <img src="images/projects.jpg" alt="">
      <h3>Technical Projects</h3>
    </div>

    <div class="card" role="listitem" tabindex="0" onclick="showSection('positions')" onkeypress="if(event.key==='Enter') showSection('positions')">
      <img src="images/positions.jpg" alt="">
      <h3>Position of Responsibility</h3>
    </div>

    <div class="card" role="listitem" tabindex="0" onclick="showSection('experience')" onkeypress="if(event.key==='Enter') showSection('experience')">
      <img src="images/professional.jpg" alt="">
      <h3>Professional Experience</h3>
    </div>
  </div>
</div>

<!-- PUBLICATIONS -->
<div id="publications" class="section page">
  <a class="back-button" onclick="showSection('home')" role="button">← Home</a>
  <h2>Publications</h2>
  <div class="container">
    <!-- For each publication, add your paper URL in data-paper attribute.
         Example: data-paper="https://doi.org/..." -->
    <div class="card" tabindex="0" onclick="showPublicationDetail('publication1')" data-id="publication1" data-paper="#" >
      <img src="images/publications.jpg" alt="">
      <h3>Spatiotemporal deep learning models for detection of rapid intensification in cyclones</h3>
      <a class="paper-link" href="#" target="_blank" rel="noopener" onclick="event.stopPropagation();">Paper</a>
    </div>

    <div class="card" tabindex="0" onclick="showPublicationDetail('publication2')" data-id="publication2" data-paper="#" >
      <img src="images/publications.jpg" alt="">
      <h3>Learning-Based Vision Systems for Semi-Autonomous Forklift Operation</h3>
      <a class="paper-link" href="#" target="_blank" rel="noopener" onclick="event.stopPropagation();">Paper</a>
    </div>

    <div class="card" tabindex="0" onclick="showPublicationDetail('publication3')" data-id="publication3" data-paper="#" >
      <img src="images/publications.jpg" alt="">
      <h3>Delhi air quality prediction using LSTM deep learning models</h3>
      <a class="paper-link" href="#" target="_blank" rel="noopener" onclick="event.stopPropagation();">Paper</a>
    </div>

    <div class="card" tabindex="0" onclick="showPublicationDetail('publication4')" data-id="publication4" data-paper="#" >
      <img src="images/publications.jpg" alt="">
      <h3>Parkinson’s Disease Detection Using ComParE Features</h3>
      <a class="paper-link" href="#" target="_blank" rel="noopener" onclick="event.stopPropagation();">Paper</a>
    </div>
  </div>
</div>

<!-- CONFERENCES -->
<div id="conferences" class="section page">
  <a class="back-button" onclick="showSection('home')">← Home</a>
  <h2>Conferences & Symposiums</h2>
  <div class="container">
    <!-- Add data-paper="URL" for each conference talk/paper -->
    <div class="card" tabindex="0" onclick="showConferenceDetail('conference1')" data-id="conference1" data-paper="#">
      <img src="images/conferences.jpg" alt="">
      <h3>Conference Title 1</h3>
      <a class="paper-link" href="#" target="_blank" rel="noopener" onclick="event.stopPropagation();">Paper</a>
    </div>
    <div class="card" tabindex="0" onclick="showConferenceDetail('conference2')" data-id="conference2" data-paper="#">
      <img src="images/conferences.jpg" alt="">
      <h3>Conference Title 2</h3>
      <a class="paper-link" href="#" target="_blank" rel="noopener" onclick="event.stopPropagation();">Paper</a>
    </div>
  </div>
</div>

<!-- RESEARCH EXPERIENCE LIST -->
<div id="researchList" class="section page">
  <a class="back-button" onclick="showSection('home')">← Home</a>
  <h2>Research Experience</h2>
  <div class="container">
    <!-- Cards for research experiences: clicking opens the editor modal.
         data-key is used for localStorage to save notes.
         view details link in modal leads to the detail page (research1 etc.). -->
    <div class="card" tabindex="0" onclick="openEditor('research1','Vision-based Learning Systems for Semi-Automated Forklifts','research')"
         data-key="research-research1">
      <img src="images/research1.jpg" alt="">
      <h3>Vision-based Learning Systems for Semi-Automated Forklifts</h3>
    </div>

    <div class="card" tabindex="0" onclick="openEditor('research2','Intelligent Roadway Perception for Autonomous Driving Systems','research')"
         data-key="research-research2">
      <img src="images/research2.jpg" alt="">
      <h3>Intelligent Roadway Perception for Autonomous Driving Systems</h3>
    </div>

    <div class="card" tabindex="0" onclick="openEditor('research3','Spatiotemporal deep learning for forecasting cyclones','research')"
         data-key="research-research3">
      <img src="images/research3.jpg" alt="">
      <h3>Spatiotemporal deep learning for forecasting rapidly intensifying cyclones</h3>
    </div>

    <div class="card" tabindex="0" onclick="openEditor('research4','Delhi Air Quality Prediction using Recursive Forecasting','research')"
         data-key="research-research4">
      <img src="images/research4.jpg" alt="">
      <h3>Delhi Air Quality Prediction using Recursive Forecasting</h3>
    </div>

    <div class="card" tabindex="0" onclick="openEditor('research5','Speech Signal Analysis for Parkinson’s Disease Detection','research')"
         data-key="research-research5">
      <img src="images/research5.jpg" alt="">
      <h3>Speech Signal Analysis for Parkinson’s Disease Detection</h3>
    </div>

    <div class="card" tabindex="0" onclick="openEditor('research6','Oral Potential Malignant Detection','research')"
         data-key="research-research6">
      <img src="images/research6.jpg" alt="">
      <h3>Oral Potential Malignant Detection</h3>
    </div>

    <div class="card" tabindex="0" onclick="openEditor('research7','Concrete Surface Image Analysis','research')"
         data-key="research-research7">
      <img src="images/research7.jpg" alt="">
      <h3>Concrete Surface Image Analysis</h3>
    </div>
  </div>
</div>

<!-- RESEARCH DETAIL PAGES -->
<div id="research1" class="section page">
  <a class="back-button" onclick="showSection('researchList')">← Back</a>
  <h2>Vision-based Learning Systems for Semi-Automated Forklifts</h2>
  <p class="meta">University / Lab — Duration</p>
  <div style="max-width:880px; margin:0 auto; background:#fff; border-radius:10px; padding:18px;">
    <p><strong>Summary:</strong> Implemented vision models for object detection and scene understanding tailored to warehouse forklift autonomy.</p>
    <p><strong>Key contributions:</strong></p>
    <ul id="research1-list">
      <!-- optionally render saved points here via JS -->
    </ul>
  </div>
</div>

<div id="research2" class="section page">
  <a class="back-button" onclick="showSection('researchList')">← Back</a>
  <h2>Intelligent Roadway Perception for Autonomous Driving Systems</h2>
  <p class="meta">University of Alberta — Duration</p>
  <div style="max-width:880px; margin:0 auto; background:#fff; border-radius:10px; padding:18px;">
    <p><strong>Summary:</strong> Semantic segmentation of LiDAR 3D point clouds and multimodal scene description generation.</p>
    <p><strong>Key contributions:</strong></p>
    <ul id="research2-list"></ul>
  </div>
</div>

<!-- other research detail placeholders -->
<div id="research3" class="section page">
  <a class="back-button" onclick="showSection('researchList')">← Back</a>
  <h2>Spatiotemporal deep learning for forecasting rapidly intensifying cyclones</h2>
  <p class="meta">University / Group — Duration</p>
  <div style="max-width:880px; margin:0 auto; background:#fff; border-radius:10px; padding:18px;">
    <ul id="research3-list"></ul>
  </div>
</div>

<div id="research4" class="section page">
  <a class="back-button" onclick="showSection('researchList')">← Back</a>
  <h2>Delhi Air Quality Prediction using Recursive Forecasting</h2>
  <p class="meta">Project — Duration</p>
  <div style="max-width:880px; margin:0 auto; background:#fff; border-radius:10px; padding:18px;">
    <ul id="research4-list"></ul>
  </div>
</div>

<div id="research5" class="section page">
  <a class="back-button" onclick="showSection('researchList')">← Back</a>
  <h2>Speech Signal Analysis for Parkinson’s Disease Detection</h2>
  <p class="meta">Project — Duration</p>
  <div style="max-width:880px; margin:0 auto; background:#fff; border-radius:10px; padding:18px;">
    <ul id="research5-list"></ul>
  </div>
</div>

<div id="research6" class="section page">
  <a class="back-button" onclick="showSection('researchList')">← Back</a>
  <h2>Oral Potential Malignant Detection</h2>
  <p class="meta">Project — Duration</p>
  <div style="max-width:880px; margin:0 auto; background:#fff; border-radius:10px; padding:18px;">
    <ul id="research6-list"></ul>
  </div>
</div>

<div id="research7" class="section page">
  <a class="back-button" onclick="showSection('researchList')">← Back</a>
  <h2>Concrete Surface Image Analysis</h2>
  <p class="meta">Project — Duration</p>
  <div style="max-width:880px; margin:0 auto; background:#fff; border-radius:10px; padding:18px;">
    <ul id="research7-list"></ul>
  </div>
</div>

<!-- PROJECTS -->
<div id="projects" class="section page">
  <a class="back-button" onclick="showSection('home')">← Home</a>
  <h2>Technical Projects</h2>
  <div class="container">
    <div class="card" tabindex="0" onclick="openEditor('project1','AI for Customer Review Classification','project')"
         data-key="project-project1">
      <img src="images/project1.jpg" alt="">
      <h3>AI for Customer Review Classification</h3>
    </div>

    <div class="card" tabindex="0" onclick="openEditor('project2','Optimizing Stock Trading with Reinforcement Learning','project')"
         data-key="project-project2">
      <img src="images/project2.jpg" alt="">
      <h3>Optimizing Stock Trading with Reinforcement Learning</h3>
    </div>

    <div class="card" tabindex="0" onclick="openEditor('project3','AI-based Recommendation System','project')"
         data-key="project-project3">
      <img src="images/project2.jpg" alt="">
      <h3>AI-based Recommendation System</h3>
    </div>
  </div>
</div>

<!-- POSITIONS -->
<div id="positions" class="section page">
  <a class="back-button" onclick="showSection('home')">← Home</a>
  <h2>Position of Responsibility</h2>
  <div class="container">
    <div class="card" tabindex="0" onclick="openEditor('position1','Teaching Assistant - Computer Programming and Utilization (CS 101)','position')"
         data-key="position-position1">
      <img src="images/positions.jpg" alt="">
      <h3>Teaching Assistant - Computer Programming and Utilization (CS 101)</h3>
    </div>
  </div>
</div>

<!-- EXPERIENCE -->
<div id="experience" class="section page">
  <a class="back-button" onclick="showSection('home')">← Home</a>
  <h2>Professional Experience</h2>
  <div class="container">
    <div class="card" tabindex="0">
      <img src="images/professional.jpg" alt="">
      <h3>IQVIA (India) Pvt. Ltd.</h3>
    </div>
  </div>
</div>

<!-- Editor Modal -->
<div id="modalBackdrop" class="modal-backdrop" role="dialog" aria-modal="true" aria-hidden="true">
  <div class="modal" role="document" aria-labelledby="modalTitle">
    <h3 id="modalTitle">Edit points</h3>
    <div class="small" id="modalSubtitle">Add bullet points for this item (they save locally to your browser)</div>
    <textarea id="editorTextarea" class="editor" placeholder="- Add a bullet point per line (press Enter)"></textarea>
    <div style="margin-top:8px;">
      <label style="font-size:13px; color:var(--muted);">Link to details (optional): </label>
      <input id="detailLink" type="text" style="width:100%; padding:8px; border-radius:6px; border:1px solid #e6e6e6; margin-top:6px;" placeholder="https://... (optional)">
    </div>
    <div class="modal-actions">
      <button class="btn secondary" onclick="closeEditor()">Cancel</button>
      <button class="btn primary" onclick="saveEditor()">Save</button>
    </div>
    <div style="margin-top:10px; text-align:left; font-size:13px; color:var(--muted);">
      <strong>Tip:</strong> Write one bullet point per line. Saved content is stored in your browser (localStorage).
    </div>
  </div>
</div>

<script>
  /* -----------------------
     Section routing
     ----------------------- */
  function showSection(id) {
    const sections = document.querySelectorAll('.section');
    let found = false;
    sections.forEach(s => {
      if (s.id === id) {
        s.classList.add('active');
        s.style.display = '';
        found = true;
      } else {
        s.classList.remove('active');
        s.style.display = 'none';
      }
    });
    if (!found) {
      // fallback to home
      const home = document.getElementById('home');
      sections.forEach(s => s.classList.remove('active'));
      sections.forEach(s => s.style.display = 'none');
      home.classList.add('active');
      home.style.display = '';
      console.warn('Section "' + id + '" not found. Returning to home.');
    }
    window.scrollTo({ top: 0, behavior: 'smooth' });
    // When navigating to a detail page, render saved points if any
    renderSavedPointsToDetail(id);
  }

  /* -----------------------
     Modal editor logic
     ----------------------- */
  const modalBackdrop = document.getElementById('modalBackdrop');
  const editorTextarea = document.getElementById('editorTextarea');
  const modalTitle = document.getElementById('modalTitle');
  const modalSubtitle = document.getElementById('modalSubtitle');
  const detailLinkInput = document.getElementById('detailLink');

  // current editing context
  let currentKey = null;      // localStorage key, e.g. "research-research1"
  let currentViewId = null;   // id of the detail page, e.g. "research1" (optional)

  function openEditor(id, title, sectionType) {
    // id: e.g. research1 or project1
    // sectionType: 'research' | 'project' | 'position'
    currentKey = (sectionType || 'item') + '-' + id;
    currentViewId = id; // used if user wants to view detail page
    modalTitle.textContent = title || 'Edit points';
    modalSubtitle.textContent = 'Add bullet points for "' + (title || id) + '" (they save locally to your browser)';
    // load saved text if exists
    const saved = localStorage.getItem(currentKey);
    editorTextarea.value = saved ? saved : '';
    // Load any stored detail link
    const savedLink = localStorage.getItem(currentKey + '-link') || '';
    detailLinkInput.value = savedLink;
    showModal();
  }

  function showModal() {
    modalBackdrop.style.display = 'flex';
    modalBackdrop.setAttribute('aria-hidden', 'false');
    editorTextarea.focus();
  }

  function closeEditor() {
    modalBackdrop.style.display = 'none';
    modalBackdrop.setAttribute('aria-hidden', 'true');
    currentKey = null;
    currentViewId = null;
    editorTextarea.value = '';
    detailLinkInput.value = '';
  }

  function saveEditor() {
    if (!currentKey) return closeEditor();
    const text = editorTextarea.value.trim();
    if (text.length === 0) {
      // if empty, remove saved data
      localStorage.removeItem(currentKey);
      localStorage.removeItem(currentKey + '-link');
    } else {
      localStorage.setItem(currentKey, text);
      const link = detailLinkInput.value.trim();
      if (link) localStorage.setItem(currentKey + '-link', link);
      else localStorage.removeItem(currentKey + '-link');
    }
    // reflect changes to detail page lists if visible
    renderSavedPointsToDetail(currentViewId);
    closeEditor();
  }

  // Close modal when clicking backdrop (but not when clicking inside modal)
  modalBackdrop.addEventListener('click', (e) => {
    if (e.target === modalBackdrop) closeEditor();
  });

  // Keyboard: Esc to close
  document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape' && modalBackdrop.style.display === 'flex') closeEditor();
  });

  /* -----------------------
     Rendering saved points into detail pages
     ----------------------- */
  function renderSavedPointsToDetail(detailId) {
    if (!detailId) return;
    // mapping: research1 -> key 'research-research1', project1 -> 'project-project1', position1 -> 'position-position1'
    const prefixCandidates = ['research-','project-','position-'];
    let found = false;
    prefixCandidates.forEach(pref => {
      const key = pref + detailId;
      const el = document.getElementById(detailId + '-list') || document.getElementById(detailId + '-list');
      if (el) {
        found = true;
        const saved = localStorage.getItem(key);
        if (!saved) {
          el.innerHTML = '<li style="color:var(--muted)">No saved points yet — click the card to add points.</li>';
        } else {
          // split by newline and create list items
          const lines = saved.split('\\n').map(l => l.trim()).filter(l => l.length > 0);
          el.innerHTML = lines.map(l => '<li>' + escapeHtml(l) + '</li>').join('');
        }
      }
    });
    // Also render into research detail pages that have list containers with id research1-list etc.
    // If none found, nothing to do.
    return found;
  }

  function escapeHtml(unsafe) {
    return unsafe
         .replaceAll('&', "&amp;")
         .replaceAll('<', "&lt;")
         .replaceAll('>', "&gt;")
         .replaceAll('"', "&quot;")
         .replaceAll("'", "&#039;");
  }

  /* -----------------------
     Publication/Conference card behavior
     ----------------------- */
  // On page initialization, wire up Paper links from data-paper attributes
  function initPaperLinks() {
    document.querySelectorAll('[data-paper]').forEach(card => {
      const paperUrl = card.getAttribute('data-paper') || '#';
      const link = card.querySelector('.paper-link');
      if (link) {
        link.href = paperUrl;
        // if placeholder, add tooltip
        if (!paperUrl || paperUrl === '#' ) {
          link.title = 'Add a paper URL in the card element (data-paper attribute)';
          link.style.opacity = '0.8';
        } else {
          link.title = 'Open paper';
        }
      }
    });
  }

  // When a publication card is clicked, we show detail (a dedicated section).
  // For now we'll reuse showSection for simple detail pages.
  function showPublicationDetail(pubId) {
    // you can create pages with id=publication1 etc. For now fallback to publications list.
    // If you later add a detail section with that id it will be shown.
    if (document.getElementById(pubId)) {
      showSection(pubId);
    } else {
      // open paper link if present, otherwise stay on publications page
      const card = document.querySelector('[data-id="' + pubId + '"]');
      if (card) {
        const paper = card.getAttribute('data-paper') || '#';
        if (paper && paper !== '#') {
          window.open(paper, '_blank', 'noopener');
        } else {
          // no paper — just flash a message (simple UX)
          alert('No paper link provided yet. Add the URL to the card\'s data-paper attribute.');
        }
      }
    }
  }

  function showConferenceDetail(confId) {
    // same logic as publications
    if (document.getElementById(confId)) {
      showSection(confId);
    } else {
      const card = document.querySelector('[data-id="' + confId + '"]');
      if (card) {
        const paper = card.getAttribute('data-paper') || '#';
        if (paper && paper !== '#') {
          window.open(paper, '_blank', 'noopener');
        } else {
          alert('No paper/presentation link provided yet. Add the URL to the card\'s data-paper attribute.');
        }
      }
    }
  }

  /* -----------------------
     Initialization on load
     ----------------------- */
  (function init(){
    // show/hide sections correctly
    document.querySelectorAll('.section').forEach(s => {
      if (!s.classList.contains('active')) s.style.display = 'none';
    });
    initPaperLinks();

    // render saved points into any visible detail pages on load (if user bookmarks a detail)
    const visible = Array.from(document.querySelectorAll('.section')).find(s => s.classList.contains('active'));
    if (visible) renderSavedPointsToDetail(visible.id);

    // also render for all research detail pages so content appears if user navigates
    ['research1','research2','research3','research4','research5','research6','research7',
     'project1','project2','project3','position1'].forEach(id => renderSavedPointsToDetail(id));
  })();
</script>
</body>
</html>
